https://github.com/canonical/cloud-init/commit/a64b73808857fa7b4f262422ce2c87eedbce10d5

=== Begin SRU Template ===
[Impact]
For VM SKUs that come with
ephemeral resource disks, the Azure platform guarantees that
the ephemeral resource disk is attached to the VM before
the VM is booted. For VM SKUs that do not come with
ephemeral resource disks, cloud-init currently attempts
to wait and set up a non-existent ephemeral resource
disk, which wastes boot time. It also causes disk setup
modules to fail.

This has been changed to only setup and merge in default Azure cloud
ephemeral disk configs if the ephemeral disk exists

[Test Case]
There is an upstream test for this bug:
https://github.com/canonical/cloud-init/blob/master/tests/integration_tests/bugs/test_lp1901011.py

=== Xenial ===

=== Bionic ===

=== Focal ===

=== Groovy ===

[Regression Potential]
According to Azure, the Azure host guarantees that the ephemeral resource
disk is attached to the VM before it is booted during VM deployment. If this
remains true, there is no regression potential. Otherwise we could potentially
not configure disks that were previously being configured.
